import DocCard from '@site/src/components/DocCard';

# Deploy to Prod

Deployments in Windmill are commonly done from the same workspace using the [Draft and Deploy](../../core_concepts/0_draft_and_deploy/index.mdx) buttons.

For finer control, you might want to deploy to a prod workspace from a staging area. Here are the options.

## Deploy to Staging/Prod Web UI

From a workspace in Windmill, you can deploy a script/flow/resource/variable and all its dependencies to another workspace. This feature implies having at least 2 workspaces.

<video
    className="border-2 rounded-xl object-cover w-full h-full dark:border-gray-800"
    controls
    id="main-video"
    src="/videos/staging_prod.mp4"
/>

<br/>

Deploy to Staging/Prod Web UI is [Cloud and Self-Hosted Enterprise Edition](/pricing) only.

More details at:

<div class="grid grid-cols-2 gap-6 mb-4">
	<DocCard
		title="Draft and Deploy"
		description="Develop and cooperate in a structured way."
		href="/docs/core_concepts/draft_and_deploy"
	/>
</div>

## Deploy to Prod using a Git Workflow

Windmill integration with Git repositories makes it possible to adopt a robust development process for your Windmill scripts, flows and apps. 

The process is as follows:
- Users iterate and make their changes in a "staging" Windmill workspace.
- Every time a Windmill App, Flow or Script is deployed to that workspace (via Windmill's UI), Windmill automatically commits it to this repo and creates one branch per app/flow/script.
- On every commit from Windmill, PRs are automatically created via a GitHub action. Approved GitHub users can review and merge those PRs.
- Every time a PR is merged, another GitHub action automatically deploys the change to a "production" Windmill workspace.

This gives the flexibility to fully test new Windmill scripts, flows and apps, while having them version-controlled and deployed in an automated way to the production environment.

Deploy to Prod using a Git Workflow is [Cloud and Self-Hosted Enterprise Edition](/pricing) only.

More details at:

<div class="grid grid-cols-2 gap-6 mb-4">
	<DocCard
		title="Deploy to Prod using a Git Workflow"
		description="Windmill integration with Git repositories makes it possible to adopt a robust development process for your Windmill scripts, flows and apps."
		href="/docs/advanced/deploy_gh_gl"
	/>
</div>

## Using Windmill CLI in GitHub actions

Finally, you can define your own GitHub actions to pull Windmill workspace regularly from GitHub using [Windmill CLI](../3_cli/index.mdx). To automatically deploy a PR to the Windmill workspace, the [push-on-merge.yaml](https://github.com/windmill-labs/windmill-sync-example/blob/main/.github/workflows/push-on-merge.yaml) can be used.

And another GitHub action can be created to regularly pull Windmill workspace to the GitHub repo using Windmill CLI. This action can be run on a schedule to keep the repo and the workspace in sync.